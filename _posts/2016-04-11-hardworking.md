---
layout: post
title: 艰难
date: 2016-4-11
categories: 生活
tags: [前言]
description: 总结
---

## 艰难

> 世之奇伟瑰怪非常之观,常在于险远而人之所罕至焉,故非有志者不能至也。

这周的主要工作就在调试一个异常崩溃的问题，大概在问题周围尝试了很久，同样的代码在不同的情况会崩溃，这让我自然开始怀疑是宿主程序成了问题，或者是它做了一些处理或者是它不允许这样的方式运行。但是在经过一周的尝试后，最后在同事的帮助下证实确实是系统API调用返回了一个非法的地址，而同样的情况在别的程序运行时返回的是合法的地址，API的参数都是一些非常固定的参数很难有出错的可能，最终借助汇编代码，发现API返回时被插入了一个奇怪的指令，这在非汇编调试层面是不可见的，经过对这条指令的分析，发现是出现了一个类似截断的处理，后面再去查找函数的返回值，发现是64位程序上int的返回值是不足以存放API的返回值的，这个隐晦的错误就在这里了。

## 想法

这个事情暴露了很多值得深思的问题：

* 习以为常即是正确？
    
    就像那些一直被使用没有问题的代码一样，我显然认为他是没有问题的，至少在潜意识上，毕竟我曾经去怀疑过64位时返回值得问题，记得当时看到那么int返回值，此时也知识一眼带过，没有仔细去思考其中存在的问题，所以这就是习以为常或者是经验性错误，在生活工作中我们显然也趋向于把每天做的事情，经历过的事情当做正确的方法，事实证明这并不是一定的。
    
* 事情的本质呢？

    我在这个API调用的外围调试了很久，除了上面说的经验性问题外，没有抓住事情的重点也是一个问题，毕竟源码面前了无秘密，对于任何程序来说，有源码调试是最有效的办法，对于一个系统层面的API虽然没有源码，但是汇编表示了一切，最终事情的解决也是依赖于此，所以事情出了问题，最重要的是不要看表面的现象，需要在很快的时间找到问题的本质，从本质去入手才是最行之有效的办法。
    
* 要勤奋

    畏难情绪是每个人都有的，特别是在我身上，这也是我经常犯的一个问题，很多时候是可以看到问题最终出现的地方，但是像开篇说的常在于险远，需要花费大力气才能到达的地方，如果没有吃苦的决心，这显然是无法解决问题的，我党毕竟常说没有困难创造困难也要上。
    
    
## 总结

这两天看了奥巴马的纪录片，任期里像能源改革和医保都受到层层的阻力，不管中间他做了什么努力(这些牵扯到了一些政治手段)，这种精神还是值得我们去学习的，没有事情是一直顺利的，也没有一劳永逸的事，事情即使没有完全的到达预期最终只是取得了一个妥协也是可以接受的，毕竟努力过。    


